@startuml
title IBD – MonitorControl (Salle Physique-Chimie – version complète avec Administrateur)

skinparam rectangle {
  BackgroundColor #F5F5F5
  BorderColor Black
  RoundCorner 15
}
skinparam defaultTextAlignment center

rectangle "Système MonitorControl [block]" {
  
  rectangle "Application Web [part]" as App {
    [Interface Utilisateur]
    [Module Réservations]
    [Module Affichage]
    [Module Configuration]
  }

  rectangle "Service Capteurs [part]" as Capteurs {
    [Lecture capteurs]
    [Analyse environnement]
  }

  rectangle "Base de Données [part]" as DB
  rectangle "Service Notification [part]" as Notif
  rectangle "Afficheur Salle [part]" as Ecran
  rectangle "Capteurs Physiques [part]" as PhysSensors {
    [Capteur CO2]
    [Capteur Température]
    [Capteur Gaz]
  }
}

actor Enseignant
actor Administrateur

' Interactions externes
Enseignant --> App : Saisie réservation
Administrateur --> App : Consultation & modification (réservations, écrans...)

' Flux internes
App --> Capteurs : Requête statut salle
Capteurs --> PhysSensors : Lecture environnement
Capteurs --> App : Retour état salle

App --> DB : Lire / Écrire réservation, config
App --> Notif : Envoi alerte
Notif --> Administrateur : Notification danger
App --> Ecran : Envoi affichage (planning ou DANGER)

@enduml
